var globalThis=this,global=this;function __skpm_run(e,t){globalThis.context=t;try{var r=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=require("sketch")},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return E}));var n=r(0),a=r.n(n);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){a=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){Object.entries(t).forEach((function(r){var n=s(r,2),a=n[0],o=n[1],i=o.usages,l=o.thicknesses;if(e[a]){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.filter((function(t){return!e.includes(t)}));if(e.length!==t.length||n.length)return{matches:!1,newItems:n};var a=!0;return e.forEach((function(e,n){(r&&e!==t[n]||!t.includes(e))&&(a=!1)})),{matches:a,newItems:n}}(e[a].thicknesses,l),c=u.matches,f=u.newItems;c?(e[a].usages=i,delete t[a]):t[a].thicknesses=f}}))}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){a=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r){var n=f(e,2),o=n[0],i=n[1],s=i.sharedKeys,l=i.usages,u=i.thicknesses,y=[],p=[{color:o}],d=[],h=[];if("border"===t?h=p:d=p,o.includes("#ffffff")){var g={type:a.a.Types.ShapePath,shapeType:a.a.ShapePath.ShapeType.Rectangle,style:{fills:[{color:"#000000"}],borders:[]},frame:new a.a.Rectangle(0,0,80,80)};y.push(g)}var m={x:10,y:10},b={type:a.a.Types.ShapePath,shapeType:a.a.ShapePath.ShapeType.Oval,style:{fills:d,borders:h,borderOptions:{startArrowHead:"FilledCircle",endArrowHead:"FilledCircle"}},frame:new a.a.Rectangle(m.x,m.y,60,60)};y.push(b);var v=95;Array.isArray(s)&&s.forEach((function(e){y.push({type:a.a.Types.Text,text:e,style:{fontSize:17,fontWeight:12,fontFamily:"PT Sans",kerning:null,paragraphSpacing:0,textColor:"#000000ff",borders:[]},frame:new a.a.Rectangle(90,m.y,270,20),fixedWidth:!0});var t=20*Math.ceil(e.length/33);m.y+=t,v+=t})),m.y+=10;var S=function(e,t,r,n){var o=r?"".concat(r.join("px, "),"px "):"",i=parseInt(e.substring(7,9),16)/255,s=i<1?" (".concat(i.toFixed(2).substring(1)," opacity)"):"",l="".concat(t," use").concat(1!==t?"s":"");return[{type:a.a.Types.Text,text:"".concat(o).concat(e.substring(0,7)).concat(s),frame:new a.a.Rectangle(90,n.y,300,20),style:{fontSize:17,fontFamily:"PT Sans",kerning:null,paragraphSpacing:0,textColor:"#000000ff",borders:[]}},{type:a.a.Types.Text,text:l,frame:new a.a.Rectangle(90,n.y+20,300,20),style:{fontSize:17,fontFamily:"PT Sans",kerning:null,paragraphSpacing:0,textColor:"#000000ff",borders:[]}}]}(o,l,u,m);y.push.apply(y,c(S));var w=new a.a.Group({name:"".concat(t,": ").concat(o),layers:y});return w.frame.y=r.y,r.y+=v,w}function h(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fill",i=Object.entries(n);if(0!==i.length){var s=[{type:a.a.Types.Text,text:r,style:{fontSize:30,fontWeight:12,fontFamily:"PT Sans",kerning:null,paragraphSpacing:0,textColor:"#000000ff",borders:[]},frame:new a.a.Rectangle(0,e.y,300,70)},{type:a.a.Types.ShapePath,shapeType:a.a.ShapePath.ShapeType.Rectangle,style:{fills:[],borders:[{color:"#bcbcbc",thickness:1}]},frame:new a.a.Rectangle(0,e.y+40,350,1)}];e.y+=52,i.forEach((function(t){s.push(d(t,o,e))}));var l=new a.a.Group({name:t,layers:s});return e.y+=30,l}}function g(e,t){e&&t.layers.push(e)}function m(e,t,r){return(m=b()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&v(a,r.prototype),a}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t,r,n){return new a.a.Group({name:e,frame:m(a.a.Rectangle,S(t)),layers:[{type:a.a.Types.Text,text:r,style:{fontSize:48,fontWeight:9,fontFamily:"PT Sans",kerning:null,paragraphSpacing:0,textColor:"#000000ff",borders:[]}},{type:a.a.Types.Text,text:n,style:{fontSize:14,fontFamily:"PT Sans",kerning:null,paragraphSpacing:0,textColor:"#000000ff",borders:[]},frame:new a.a.Rectangle(0,60,350,20),fixedWidth:!0}]})}var T={paletteName:"ðŸŽ¨ Palette Cleanser",shared:{title:"Layer Style Colors",subtitle:"These colors are from fills and borders in your Layer Styles. They can be easily reused and updated throughout your designs."},unique:{title:"Unique Colors",subtitle:"These colors are from fills and borders in your document that aren't part of a Layer Style. Unique styles can work for simple designs, but it's hard to maintain a consistent palette as your design grows."},fillsHeader:"Fills",bordersHeader:"Borders",messages:{paletteBuilt:"ðŸŽ‰ Your palette is ready ðŸŽ‰",paletteUpdated:"âœ… Palette updated âœ…"}};function A(e){return e.split(".").reduce((function(e,t){return e[t]||""}),T)}var j=a.a.Settings,O=a.a.Rectangle,k=a.a.Artboard;var P=a.a.Document,_=a.a.Settings,F=a.a.UI.message;function E(){var e=P.getSelectedDocument(),t=function(e){return e.sharedLayerStyles.reduce((function(e,t){var r=t.name;return t.style.fills.forEach((function(t){var n=t.color;e[n]?e[n].sharedKeys.push(r):e[n]={sharedKeys:[r],usages:0}})),e}),{})}(e),r=function(e){return e.sharedLayerStyles.reduce((function(e,t){var r=t.name;return t.style.borders.forEach((function(t){var n=t.color,a=t.thickness;if(e[n])return e[n].sharedKeys.push(r),void(e[n].thicknesses.includes(a)||e[n].thicknesses.push(a));e[n]={sharedKeys:[r],thicknesses:[a],usages:0}})),e}),{})}(e),n=function(e){var t={},r={};return{colorPathDictionary:e.pages.reduce((function(n,i,s){var l=a.a.Settings.documentSettingForKey(e,"palette-board-id");return i.layers.filter((function(e){return e.id!==l})).forEach((function(e,a){var i=[];Array.isArray(e.layers)&&e.layers.forEach((function e(l,u){if(l&&l.style&&(l.style.fills.forEach((function(e,r){var o=e.color;if(o){var l=i.reduce((function(e,t){return"".concat(e,".layers[").concat(t,"]")}),""),c="pages[".concat(s,"].layers[").concat(a+1,"]").concat(l,".layers[").concat(u,"].style.fills[").concat(r,"].color");if(n[c]=o,t[o])return void t[o].usages++;t[o]={usages:1}}})),l.style.borders.forEach((function(e,t){var o=e.color,l=e.thickness;if(o){var c=i.reduce((function(e,t){return"".concat(e,".layers[").concat(t,"]")}),""),f="pages[".concat(s,"].layers[").concat(a+1,"]").concat(c,".layers[").concat(u,"].style.borders[").concat(t,"].color");if(n[f]=o,r[o])return r[o].thicknesses.includes(l)||r[o].thicknesses.push(l),void r[o].usages++;r[o]={usages:1,thicknesses:[l]}}})),Array.isArray(l.layers))){var c=o(i);i.push(u),l.layers.forEach(e),i=c}}))})),n}),{}),layerBorders:r,layerFills:t}}(e),i=n.colorPathDictionary,s=n.layerFills,l=n.layerBorders;u(t,s),u(r,l),_.setDocumentSettingForKey(e,"color-path-dictionary",i),_.setDocumentSettingForKey(e,"shared-fills",t),_.setDocumentSettingForKey(e,"shared-borders",r),_.setDocumentSettingForKey(e,"layer-fills",s),_.setDocumentSettingForKey(e,"layer-borders",l),function(e,t,r,n,a){var o=e.pages.map((function(e){return e.layers})).flat(),i=j.documentSettingForKey(e,"palette-board-id"),s=o.filter((function(e){return e.id===i}))[0];if(!s){var l=new O(-4e3,0,1e3,2e3);s=new k({name:A("paletteName"),flowStartPoint:!0,frame:l}),j.setDocumentSettingForKey(e,"palette-board-id",s.id)}var u={x:0,y:150},c=x("shared-palette-styles",[75,75,400,u.y],A("shared.title"),A("shared.subtitle")),f=h(u,"shared_layer_fills",A("fillsHeader"),t),y=h(u,"shared_layer_borders",A("bordersHeader"),n,"border");g(f,c),g(y,c);var p=x("unique-palette-styles",[550,75,350,u.y],A("unique.title"),A("unique.subtitle")),d=u.y;u.y=150;var m=h(u,"layer_fills",A("fillsHeader"),r),b=h(u,"layer_borders",A("bordersHeader"),a,"border");g(m,p),g(b,p),s.layers=[c,p].filter((function(e){return!!e})),s.frame.height=Math.max(d,u.y)+100,e.pages[0].layers.unshift(s)}(e,t,s,r,l),F(A("messages.paletteBuilt"))}}]);if("default"===e&&"function"==typeof r)r(t);else{if("function"!=typeof r[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');r[e](t)}}catch(n){if("undefined"==typeof process||!process.listenerCount||!process.listenerCount("uncaughtException"))throw n;process.emit("uncaughtException",n,"uncaughtException")}}globalThis.onRun=__skpm_run.bind(this,"default");